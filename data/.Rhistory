library(readr)
synthetic_population_DHZW_2019_with_hh <- read_csv("GitHub projects/DHZW_synthetic-population/output/synthetic-population-households/synthetic_population_DHZW_2019_with_hh.csv")
View(synthetic_population_DHZW_2019_with_hh)
library(readr)
df_households_DHZW_2019 <- read_csv("GitHub projects/DHZW_synthetic-population/output/synthetic-population-households/df_households_DHZW_2019.csv")
View(df_households_DHZW_2019)
library(readr)
df_DHZW <- read_csv("GitHub projects/DHZW_assign-travel-behaviours/data/processed/df_DHZW.csv")
View(df_DHZW)
unique(df_DHZW$disp_modal_choice)
library(readr)
df_households_DHZW_2019 <- read_csv("GitHub projects/DHZW_synthetic-population/output/synthetic-population-households/df_households_DHZW_2019.csv")
View(df_households_DHZW_2019)
library(readr)
X8f7102fb_40ec_495d_810f_c589ab50466f <- read_csv("8f7102fb-40ec-495d-810f-c589ab50466f.csv")
View(X8f7102fb_40ec_495d_810f_c589ab50466f)
library(readr)
library(dplyr)
library(this.path)
library(sf)
# Read locations
setwd(this.dir())
setwd('../DHZW_locations/location_folders/home/data')
df_homes <- read.csv('df_households_locations.csv')
colnames(df_homes)
df_homes <- df_homes %>%
select("PC6", "PC4", "longitude", "latitude", "type", "lid")
setwd(this.dir())
setwd('../DHZW_locations/location_folders/work/data')
df_work <- read.csv('work_DHZW.csv')
colnames(df_work)
setwd(this.dir())
setwd('../DHZW_locations/location_folders/schools/data')
df_schools <- as.data.frame(st_read('schools_DHZW'))
df_schools <- df_schools %>%
select(PC6, PC4, longitude, latitude, type, lid)
colnames(df_schools)
setwd(this.dir())
setwd('../DHZW_locations/location_folders/shopping/data')
df_shoppings <- read.csv('shopping_DHZW.csv')
colnames(df_shoppings)
setwd(this.dir())
setwd('../DHZW_locations/location_folders/sport/data')
df_sport <- read.csv('sport_DHZW.csv')
colnames(df_sport)
df_locations <- rbind(df_homes,
df_work,
df_schools,
df_shoppings,
df_sport)
setwd(this.dir())
setwd('data')
write.csv(df_locations, 'locations.csv', row.names = FALSE)
library(readr)
library(dplyr)
library(this.path)
library(sf)
# Read activities
setwd(this.dir())
setwd('../DHZW_assign_locations/data')
df_activities <- read.csv('df_synthetic_activities.csv')
df_activities <- subset(df_activities, select=-c(PC4))
# Read locations
setwd(this.dir())
setwd('data')
df_locations <- read.csv('locations.csv')
df_activities_merged <- left_join(df_activities, df_locations, by='lid')
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$PC6 <- 'NA'
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$PC4 <- 'NA'
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$longitude <- 0.0
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$latitude <- 0.0
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$type <- 'NA'
# 1 day
df_activities_merged <- df_activities_merged[df_activities_merged$day_of_week==1,]
write.csv(df_activities_merged, 'SIM2APL_activities.csv', row.names = FALSE)
library(readr)
library(this)
setwd(this.dir())
setwd('../DHZW_synthetic-population/output/synthetic-population-households/4_car_2022-12-26_15-50')
df_synthetic_population <- read.csv('synthetic_population_DHZW_2019.csv')
df_synthetic_population <- df_synthetic_population %>%
rename(pid = agent_ID)
df_synthetic_population$pid <- as.numeric(gsub("[^0-9.-]", "", df_synthetic_population$pid))
setwd(this.dir())
setwd('../DHZW_locations/location_folders/home/data')
df_households <- read.csv('df_households_coordinates.csv')
df_households$PC4 <-gsub('.{2}$', '', df_households$PC6)
setwd(this.dir())
setwd('data')
df_activities <- read.csv('SIM2APL_activities.csv')
df_activities <- df_activities %>%
rename(pid = agent_ID)
df_activities$pid <- as.numeric(gsub("[^0-9.-]", "", df_activities$pid))
setwd(this.dir())
setwd('output')
write.csv(df_synthetic_population, 'DHZW_synthetic_population.csv', row.names = FALSE, quote=FALSE)
write.csv(df_households, 'DHZW_households.csv', row.names = FALSE, quote=FALSE)
write.csv(df_activities, 'DHZW_activities_locations.csv', row.names = FALSE, quote=FALSE)
View(df_activities)
library(readr)
library(dplyr)
library(this.path)
library(sf)
# Read activities
setwd(this.dir())
setwd('../DHZW_assign_locations/data')
df_activities <- read.csv('df_synthetic_activities.csv')
df_activities <- subset(df_activities, select=-c(PC4))
# Read locations
setwd(this.dir())
setwd('data')
df_locations <- read.csv('locations.csv')
df_activities_merged <- left_join(df_activities, df_locations, by='lid')
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$PC6 <- 'NA'
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$PC4 <- 'NA'
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$longitude <- 0.0
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$latitude <- 0.0
df_activities_merged<- subset(df_activities_merged, select=c(type))
# 1 day
df_activities_merged <- df_activities_merged[df_activities_merged$day_of_week==1,]
write.csv(df_activities_merged, 'SIM2APL_activities.csv', row.names = FALSE)
library(readr)
library(this)
setwd(this.dir())
setwd('../DHZW_synthetic-population/output/synthetic-population-households/4_car_2022-12-26_15-50')
df_synthetic_population <- read.csv('synthetic_population_DHZW_2019.csv')
df_synthetic_population <- df_synthetic_population %>%
rename(pid = agent_ID)
df_synthetic_population$pid <- as.numeric(gsub("[^0-9.-]", "", df_synthetic_population$pid))
setwd(this.dir())
setwd('../DHZW_locations/location_folders/home/data')
df_households <- read.csv('df_households_coordinates.csv')
df_households$PC4 <-gsub('.{2}$', '', df_households$PC6)
setwd(this.dir())
setwd('data')
df_activities <- read.csv('SIM2APL_activities.csv')
df_activities <- df_activities %>%
rename(pid = agent_ID)
df_activities$pid <- as.numeric(gsub("[^0-9.-]", "", df_activities$pid))
setwd(this.dir())
setwd('output')
write.csv(df_synthetic_population, 'DHZW_synthetic_population.csv', row.names = FALSE, quote=FALSE)
write.csv(df_households, 'DHZW_households.csv', row.names = FALSE, quote=FALSE)
write.csv(df_activities, 'DHZW_activities_locations.csv', row.names = FALSE, quote=FALSE)
View(df_activities)
library(readr)
library(dplyr)
library(this.path)
library(sf)
# Read locations
setwd(this.dir())
setwd('../DHZW_locations/location_folders/home/data')
df_homes <- read.csv('df_households_locations.csv')
colnames(df_homes)
df_homes <- df_homes %>%
select("PC6", "PC4", "longitude", "latitude", "type", "lid")
setwd(this.dir())
setwd('../DHZW_locations/location_folders/work/data')
df_work <- read.csv('work_DHZW.csv')
colnames(df_work)
setwd(this.dir())
setwd('../DHZW_locations/location_folders/schools/data')
df_schools <- as.data.frame(st_read('schools_DHZW'))
df_schools <- df_schools %>%
select(PC6, PC4, longitude, latitude, type, lid)
colnames(df_schools)
setwd(this.dir())
setwd('../DHZW_locations/location_folders/shopping/data')
df_shoppings <- read.csv('shopping_DHZW.csv')
colnames(df_shoppings)
setwd(this.dir())
setwd('../DHZW_locations/location_folders/sport/data')
df_sport <- read.csv('sport_DHZW.csv')
colnames(df_sport)
df_locations <- rbind(df_homes,
df_work,
df_schools,
df_shoppings,
df_sport)
setwd(this.dir())
setwd('data')
write.csv(df_locations, 'locations.csv', row.names = FALSE)
library(readr)
library(dplyr)
library(this.path)
library(sf)
# Read activities
setwd(this.dir())
setwd('../DHZW_assign_locations/data')
df_activities <- read.csv('df_synthetic_activities.csv')
df_activities <- subset(df_activities, select=-c(PC4))
# Read locations
setwd(this.dir())
setwd('data')
df_locations <- read.csv('locations.csv')
df_activities_merged <- left_join(df_activities, df_locations, by='lid')
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$PC6 <- 'NA'
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$PC4 <- 'NA'
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$longitude <- 0.0
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$latitude <- 0.0
df_activities_merged<- subset(df_activities_merged, select=c(type))
# 1 day
df_activities_merged <- df_activities_merged[df_activities_merged$day_of_week==1,]
write.csv(df_activities_merged, 'SIM2APL_activities.csv', row.names = FALSE)
library(readr)
library(this)
setwd(this.dir())
setwd('../DHZW_synthetic-population/output/synthetic-population-households/4_car_2022-12-26_15-50')
df_synthetic_population <- read.csv('synthetic_population_DHZW_2019.csv')
df_synthetic_population <- df_synthetic_population %>%
rename(pid = agent_ID)
df_synthetic_population$pid <- as.numeric(gsub("[^0-9.-]", "", df_synthetic_population$pid))
setwd(this.dir())
setwd('../DHZW_locations/location_folders/home/data')
df_households <- read.csv('df_households_coordinates.csv')
df_households$PC4 <-gsub('.{2}$', '', df_households$PC6)
setwd(this.dir())
setwd('data')
df_activities <- read.csv('SIM2APL_activities.csv')
df_activities <- df_activities %>%
rename(pid = agent_ID)
df_activities$pid <- as.numeric(gsub("[^0-9.-]", "", df_activities$pid))
setwd(this.dir())
setwd('output')
write.csv(df_synthetic_population, 'DHZW_synthetic_population.csv', row.names = FALSE, quote=FALSE)
write.csv(df_households, 'DHZW_households.csv', row.names = FALSE, quote=FALSE)
write.csv(df_activities, 'DHZW_activities_locations.csv', row.names = FALSE, quote=FALSE)
View(df_activities)
setwd(this.dir())
setwd('data')
df_activities <- read.csv('SIM2APL_activities.csv')
View(df_activities)
setwd(this.dir())
setwd('data')
df_activities <- read.csv('SIM2APL_activities.csv')
library(readr)
library(this.path)
setwd(this.dir())
setwd('data')
df_activities <- read.csv('SIM2APL_activities.csv')
library(readr)
library(dplyr)
library(this.path)
library(sf)
# Read activities
setwd(this.dir())
setwd('../DHZW_assign_locations/data')
df_activities <- read.csv('df_synthetic_activities.csv')
df_activities <- subset(df_activities, select=-c(PC4))
# Read locations
setwd(this.dir())
setwd('data')
df_locations <- read.csv('locations.csv')
df_activities_merged <- left_join(df_activities, df_locations, by='lid')
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$PC6 <- 'NA'
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$PC4 <- 'NA'
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$longitude <- 0.0
df_activities_merged[df_activities_merged$lid == 'outside DHZW',]$latitude <- 0.0
df_activities_merged<- subset(df_activities_merged, select=c(type))
# 1 day
df_activities_merged <- df_activities_merged[df_activities_merged$day_of_week==1,]
write.csv(df_activities_merged, 'SIM2APL_activities.csv', row.names = FALSE)
setwd(this.dir())
setwd('data')
df_activities <- read.csv('SIM2APL_activities.csv')
